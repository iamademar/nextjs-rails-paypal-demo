{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":["file:///home/ademar/rails-nextjs-paypal-demo/subscription-frontend/app/hooks/useApi.ts"],"sourcesContent":["// Hook for making API calls\r\nimport { useState, useCallback } from \"react\";\r\n\r\ntype ApiMethod = \"GET\" | \"POST\" | \"PUT\" | \"DELETE\";\r\n\r\ninterface ApiOptions {\r\n  method?: ApiMethod;\r\n  body?: object;\r\n  headers?: Record<string, string>;\r\n}\r\n\r\ninterface ApiState<T> {\r\n  data: T | null;\r\n  loading: boolean;\r\n  error: string | null;\r\n}\r\n\r\nconst BASE_URL = process.env.NEXT_PUBLIC_API_URL || \"http://localhost:3001/api\";\r\n\r\nexport function useApi<T>() {\r\n  const [state, setState] = useState<ApiState<T>>({\r\n    data: null,\r\n    loading: false,\r\n    error: null,\r\n  });\r\n\r\n  const request = useCallback(\r\n    async (endpoint: string, options: ApiOptions = {}) => {\r\n      const { method = \"GET\", body, headers = {} } = options;\r\n\r\n      // Set some default headers\r\n      const defaultHeaders = {\r\n        \"Content-Type\": \"application/json\",\r\n        Accept: \"application/json\",\r\n      };\r\n\r\n      // Set loading state\r\n      setState((prevState) => ({ ...prevState, loading: true, error: null }));\r\n\r\n      try {\r\n        // Make the request\r\n        const response = await fetch(`${BASE_URL}${endpoint}`, {\r\n          method,\r\n          headers: { ...defaultHeaders, ...headers },\r\n          body: body ? JSON.stringify(body) : undefined,\r\n        });\r\n\r\n        // Check if the response is ok\r\n        if (!response.ok) {\r\n          // Try to get error details from the response if available\r\n          let errorMessage = `Request failed with status ${response.status}`;\r\n          try {\r\n            const errorData = await response.json();\r\n            errorMessage = errorData.error || errorMessage;\r\n          } catch {\r\n            // If we can't parse the error response, just use the default message\r\n          }\r\n          throw new Error(errorMessage);\r\n        }\r\n\r\n        // Parse the response\r\n        const data = await response.json();\r\n\r\n        // Update the state with the data\r\n        setState({\r\n          data,\r\n          loading: false,\r\n          error: null,\r\n        });\r\n\r\n        return data;\r\n      } catch (error) {\r\n        // Update the state with the error\r\n        setState({\r\n          data: null,\r\n          loading: false,\r\n          error: error instanceof Error ? error.message : \"Unknown error\",\r\n        });\r\n        throw error;\r\n      }\r\n    },\r\n    []\r\n  );\r\n\r\n  return {\r\n    ...state,\r\n    request,\r\n  };\r\n}\r\n\r\nexport default useApi;\r\n"],"names":[],"mappings":"AAAA,4BAA4B;;;;;AAC5B;;AAgBA,MAAM,WAAW,iEAAmC;AAE7C,SAAS;IACd,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAe;QAC9C,MAAM;QACN,SAAS;QACT,OAAO;IACT;IAEA,MAAM,UAAU,CAAA,GAAA,qMAAA,CAAA,cAAW,AAAD,EACxB,OAAO,UAAkB,UAAsB,CAAC,CAAC;QAC/C,MAAM,EAAE,SAAS,KAAK,EAAE,IAAI,EAAE,UAAU,CAAC,CAAC,EAAE,GAAG;QAE/C,2BAA2B;QAC3B,MAAM,iBAAiB;YACrB,gBAAgB;YAChB,QAAQ;QACV;QAEA,oBAAoB;QACpB,SAAS,CAAC,YAAc,CAAC;gBAAE,GAAG,SAAS;gBAAE,SAAS;gBAAM,OAAO;YAAK,CAAC;QAErE,IAAI;YACF,mBAAmB;YACnB,MAAM,WAAW,MAAM,MAAM,GAAG,WAAW,UAAU,EAAE;gBACrD;gBACA,SAAS;oBAAE,GAAG,cAAc;oBAAE,GAAG,OAAO;gBAAC;gBACzC,MAAM,OAAO,KAAK,SAAS,CAAC,QAAQ;YACtC;YAEA,8BAA8B;YAC9B,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,0DAA0D;gBAC1D,IAAI,eAAe,CAAC,2BAA2B,EAAE,SAAS,MAAM,EAAE;gBAClE,IAAI;oBACF,MAAM,YAAY,MAAM,SAAS,IAAI;oBACrC,eAAe,UAAU,KAAK,IAAI;gBACpC,EAAE,OAAM;gBACN,qEAAqE;gBACvE;gBACA,MAAM,IAAI,MAAM;YAClB;YAEA,qBAAqB;YACrB,MAAM,OAAO,MAAM,SAAS,IAAI;YAEhC,iCAAiC;YACjC,SAAS;gBACP;gBACA,SAAS;gBACT,OAAO;YACT;YAEA,OAAO;QACT,EAAE,OAAO,OAAO;YACd,kCAAkC;YAClC,SAAS;gBACP,MAAM;gBACN,SAAS;gBACT,OAAO,iBAAiB,QAAQ,MAAM,OAAO,GAAG;YAClD;YACA,MAAM;QACR;IACF,GACA,EAAE;IAGJ,OAAO;QACL,GAAG,KAAK;QACR;IACF;AACF;uCAEe","debugId":null}},
    {"offset": {"line": 89, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 95, "column": 0}, "map": {"version":3,"sources":["file:///home/ademar/rails-nextjs-paypal-demo/subscription-frontend/app/components/HealthCheck.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport useApi from \"../hooks/useApi\";\r\n\r\ninterface HealthResponse {\r\n  status: string;\r\n  message: string;\r\n}\r\n\r\nexport default function HealthCheck() {\r\n  const { data, loading, error, request } = useApi<HealthResponse>();\r\n  const [initialized, setInitialized] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const checkHealth = async () => {\r\n      try {\r\n        await request(\"/health\");\r\n        setInitialized(true);\r\n      } catch (err) {\r\n        console.error(\"Failed to check API health:\", err);\r\n        setInitialized(true);\r\n      }\r\n    };\r\n\r\n    checkHealth();\r\n  }, [request]);\r\n\r\n  if (!initialized || loading) {\r\n    return (\r\n      <div className=\"p-4 border rounded shadow-sm\">\r\n        Checking API connection...\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"p-4 border border-red-300 bg-red-50 text-red-800 rounded shadow-sm\">\r\n        <h3 className=\"font-bold\">API Connection Error</h3>\r\n        <p>{error}</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"p-4 border border-green-300 bg-green-50 text-green-800 rounded shadow-sm\">\r\n      <h3 className=\"font-bold\">API Connection Status</h3>\r\n      <p>Status: {data?.status}</p>\r\n      <p>Message: {data?.message}</p>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AAHA;;;;AAUe,SAAS;IACtB,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE,OAAO,EAAE,GAAG,CAAA,GAAA,sHAAA,CAAA,UAAM,AAAD;IAC/C,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAE/C,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,cAAc;YAClB,IAAI;gBACF,MAAM,QAAQ;gBACd,eAAe;YACjB,EAAE,OAAO,KAAK;gBACZ,QAAQ,KAAK,CAAC,+BAA+B;gBAC7C,eAAe;YACjB;QACF;QAEA;IACF,GAAG;QAAC;KAAQ;IAEZ,IAAI,CAAC,eAAe,SAAS;QAC3B,qBACE,8OAAC;YAAI,WAAU;sBAA+B;;;;;;IAIlD;IAEA,IAAI,OAAO;QACT,qBACE,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAG,WAAU;8BAAY;;;;;;8BAC1B,8OAAC;8BAAG;;;;;;;;;;;;IAGV;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BAAY;;;;;;0BAC1B,8OAAC;;oBAAE;oBAAS,MAAM;;;;;;;0BAClB,8OAAC;;oBAAE;oBAAU,MAAM;;;;;;;;;;;;;AAGzB","debugId":null}},
    {"offset": {"line": 196, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 201, "column": 0}, "map": {"version":3,"sources":["file:///home/ademar/rails-nextjs-paypal-demo/subscription-frontend/node_modules/next/src/server/route-modules/app-page/module.compiled.js"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n    } else if (process.env.TURBOPACK) {\n      module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n    } else {\n      module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n    } else if (process.env.TURBOPACK) {\n      module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n    } else {\n      module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n    }\n  }\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK"],"mappings":";AAAA,IAAIA,QAAQC,GAAG,CAACC,YAAY,KAAK,MAAQ;;AAEzC,OAAO;IACL,IAAIF,QAAQC,GAAG,CAACK,uBAA2B,EAAF;;IAQzC,OAAO;QACL,IAAIN,QAAQC,GAAG,CAACM,QAAQ,KAAK,WAAe;YAC1CJ,OAAOC,OAAO,GAAGC,QAAQ;QAC3B,OAAO,IAAIL,QAAQC,GAAG,CAACO,SAAS,EAAE;;QAIlC;IACF;AACF","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 215, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 220, "column": 0}, "map": {"version":3,"sources":["file:///home/ademar/rails-nextjs-paypal-demo/subscription-frontend/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = require('../../module.compiled').vendored[\n  'react-ssr'\n].ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":";AAAAA,OAAOC,OAAO,GAAGC,QAAQ,4HAAyBC,QAAQ,CACxD,YACD,CAACC,kBAAkB","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 222, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 227, "column": 0}, "map": {"version":3,"sources":["file:///home/ademar/rails-nextjs-paypal-demo/subscription-frontend/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts"],"sourcesContent":["module.exports = require('../../module.compiled').vendored['react-ssr'].React\n"],"names":["module","exports","require","vendored","React"],"mappings":";AAAAA,OAAOC,OAAO,GAAGC,QAAQ,4HAAyBC,QAAQ,CAAC,YAAY,CAACC,KAAK","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 229, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}